{% extends "base.html" %}

{% block title %}Change Password - Mechatronics Hub{% endblock %}

{% block content %}
<main class="container mx-auto px-4 py-8">
    <div class="max-w-md mx-auto">
        <!-- Back Navigation -->
        <a href="{% url 'hub:profile' %}" class="inline-flex items-center space-x-2 text-forest-green dark:text-emerald-green font-bold mb-8 hover:translate-x-[-4px] transition-transform group">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            <span class="uppercase tracking-wider">Back to Profile</span>
        </a>

        <!-- Page Header -->
        <div class="mb-10 text-center">
            <h2 class="text-4xl font-extrabold text-charcoal dark:text-off-white tracking-tight">Security</h2>
            <p class="text-gray-500 dark:text-gray-400 font-medium mt-1">Change your account password</p>
        </div>

        <div class="bg-white dark:bg-charcoal p-8 rounded-[40px] shadow-xl border border-gray-100 dark:border-white/5">
            <form method="POST" class="space-y-6">
                {% csrf_token %}
                
                {% for field in form %}
                <div class="space-y-2">
                    <label class="block text-xs font-bold text-gray-400 uppercase tracking-widest pl-1">{{ field.label }}</label>
                    {{ field }}
                    {% if field.errors %}
                        {% for error in field.errors %}
                            <p class="text-red-500 text-xs font-bold mt-1">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                    {% if field.help_text %}
                        <p class="text-gray-400 text-[10px] leading-relaxed">{{ field.help_text|safe }}</p>
                    {% endif %}
                </div>
                {% endfor %}

                <button type="submit" class="w-full py-4 bg-forest-green hover:bg-forest-hover dark:bg-emerald-green dark:hover:bg-emerald-hover text-white dark:text-midnight font-extrabold rounded-2xl shadow-lg shadow-forest-green/20 transform active:scale-[0.98] transition-all flex items-center justify-center space-x-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                    <span>Update Password</span>
                </button>
            </form>
        </div>
    </div>
</main>

<style>
    /* Styling for Django's default PasswordChangeForm fields */
    .space-y-2 input {
        width: 100%;
        padding: 0.75rem 1rem;
        border-radius: 1rem;
        border: 1px solid #e2e8f0;
        background-color: transparent;
        font-weight: 500;
        transition: all 0.2s;
    }
    .dark .space-y-2 input {
        border-color: rgba(255, 255, 255, 0.05);
        background-color: #0f172a;
        color: #f8fafc;
    }
    .space-y-2 input:focus {
        outline: none;
        border-color: #2D5A27;
        box-shadow: 0 0 0 3px rgba(45, 90, 39, 0.1);
    }
    .dark .space-y-2 input:focus {
        border-color: #10b981;
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
    }
</style>
{% endblock %}
